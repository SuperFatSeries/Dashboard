# Meeting Record of Iteration1

`2018/10/20 21:30 - 22:45`

**会议目标：**
数据库、接口设计和技术选型的讨论

## 议程

1. 初步设计数据库表字段
2. 初步设计接口字段
3. 技术选型

## 讨论结果
1. 数据库表字段：
全都有：
SQL时间戳（timestamp，mySql自带）
删除标记（bool，default:false）
  1. 管理员表
		- 工号/学号（ID）
		- 角色（超级用户，老师，助教）
		- 姓名
		- 学院ID（nullable）
		- 密码
		- 邮箱（nullable）
 2. 管理员-课程表
    - ID
    - 管理员ID
    - 课程ID
 3. 课程表
    - ID
    - 课程名
    - 课程信息
    - 课程容量
    - 上课时间
 4. 公告表
    - ID
    - 课程ID（外键）
    - 公告名
    - 公告内容
    - 创建时间
 5. 课件表
    - ID
    - 课程ID
    - 文件key
    - 备注
    - 下载数量
 6. 作业表
    - ID
    - 作业要求
    - 作业名
    - 截止时间
    - 课程ID（外键）
    - 发起人ID（外键）
 7. 作业提交记录表
    - ID
    - 作业要求ID（外键）
    - 学号（外键）
    - 文件key
    - 提交时间
    - 备注	
 8. 学生表
		- 学号（ID）
    - 姓名
    - 学院
 9. 学生-课程表
    - ID
    - 学号
    - 课程ID
10. 学院表
    - 学院ID
    - 学院名


2. 初步设计接口字段：
	1. 超级用户：
		1. 增删改查老师
			1. /teacher/{ID}/
				1. Get: 
					- 输入：无
					- 输出：除密码外所有【管理员】字段
				2) Post:
					a) 输入：所有【管理员】字段
					b) 输出：状态
				3) Put:跟Post一样
				4) Delete:
					a) 输入：无
					b) 状态
			ii. /teacher/
				1) Get: 
					a) 输入：无
					b) 输出：除密码外所有【管理员】字段，所有老师的列表
	b.（老师注册的审核，后续功能）
	2. 管理员：
		a. 登入登出
			i. /admin/login/{ID}/
				1) Post:
					a) 输入：密码，（验证码）
					b) 输出：状态
			ii. /admin/logout/
				1) Delete:
					a) 输入：无
					b) 输出：跳转
		b. 对课堂信息增删改查
			i. 公告
				1) course/{CourseID}/message/{MessageID}
					a) GET
					b) POST
					c) PUT
					d) DELETE
			ii. 课件
				1) /course/{CourseID}/ware
			iii. 作业要求
				1) /course/{CourseID}/assignment/{assignmentID}
			iv. 管理课堂里面的学生
				1) /course/{CourseID}/student/{studentID}
			v. 指定课程助教
				1) /course/{CourseID}/ta/{taID}
		c. 作业批量下载、查看未提交作业的学生
			i. /course/{CourseID}/assignment/{assignmentID}
				1) get
			ii. pass
		d. 对课堂里面的学生发通知
		e. （注册）
			i. /register/
		f. （在线改作业：写评语，给评分，导出来CSV）
	3. 学生：
		a. 用URL进入课程页面
			i. 交作业（输入自己学号和姓名）
				1) /course/{courseID}/assignment/{assignmentID}/commit
			ii. 下课件
				1) /course/{courseID}/ware
				2) /course/{courseID}/ware/{wareID}
			iii. 看通知
				1) /course/{courseID}/message
				2) /course/{courseID}/message/{messageID}
	4. 助教：
	除了（指定课程助教）以外的所有老师功能
	Key: '{courseID}#{assignmentID}#{studentID}#{timestamp}#{filename}'
	Value:file

3. 技术选型：
前端：Vue
后端：Java，Spring-boot
数据库：MySQL，Mongo DB(文件存储)
运维：docker，kubernetes，istio,grafana
